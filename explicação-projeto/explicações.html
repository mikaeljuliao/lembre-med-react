<!--
.

๐ Aula: Salvando e carregando dados com localStorage no React (versรฃo final)

1๏ธโฃ O que รฉ localStorage?
. ร um recurso do navegador que guarda dados no prรณprio computador do usuรกrio.
. Diferente de um banco de dados, sรณ guarda strings (texto).
. Os dados continuam lรก mesmo se o usuรกrio fechar ou recarregar a pรกgina.

Exemplo simples no console:
localStorage.setItem('nome', 'Mikael'); // salvar
localStorage.getItem('nome');           // "Mikael"


2๏ธโฃ Por que usamos JSON.stringify e JSON.parse?
. O localStorage sรณ aceita texto.
. Nosso estado remedios รฉ um array de objetos.
. Precisamos converter para string para salvar, e converter de volta para objeto para usar.

JSON.stringify(remedios) // transforma array/objeto em string JSON
JSON.parse(string)       // transforma string JSON de volta em array/objeto



3๏ธโฃ A lรณgica no React:
const [remedios, setRemedios] = useState(() => {
  const dadosSalvos = localStorage.getItem('remedios');
  return dadosSalvos ? JSON.parse(dadosSalvos) : [];
});

useEffect(() => {
  localStorage.setItem("remedios", JSON.stringify(remedios));
}, [remedios]);



4๏ธโฃ Por que usamos useState(() => {...}) com funรงรฃo inicial?
. O React sรณ executa essa funรงรฃo na primeira renderizaรงรฃo.
. Com isso, ele lรช do localStorage uma รบnica vez e jรก inicializa remedios com o que estava salvo.
. Sem essa funรงรฃo, vocรช precisaria de dois useEffect: um para carregar e outro para salvar.
. Assim, tudo fica mais limpo.



5๏ธโฃ O operador ternรกrio (condiรงรฃo ? valor1 : valor2):

Dentro do useState usamos:
return dadosSalvos ? JSON.parse(dadosSalvos) : [];


Isso significa:
. Se dadosSalvos existe โ converte e retorna os dados.
. Se nรฃo existe โ retorna um array vazio.


ร um jeito curto de escrever:
if (dadosSalvos) {
  return JSON.parse(dadosSalvos);
} else {
  return [];
}



6๏ธโฃ O que significa o [remedios] no useEffect?
. ร a lista de dependรชncias.
. O React sรณ roda o useEffect de novo quando algo dessa lista muda.
. Colocando [remedios] โ ele roda sempre que remedios mudar.
. Se deixasse [], rodaria sรณ uma vez no inรญcio.



7๏ธโฃ Detalhes do localStorage:
. O localStorage.setItem recebe 2 parรขmetros:
. Chave: nome do item (string) โ 'remedios'.
. Valor: o que quer salvar (tambรฉm string).

Entรฃo:
localStorage.setItem('remedios', JSON.stringify(remedios))

. "remedios" รฉ a chave.
. JSON.stringify(remedios) รฉ o valor salvo (string).


Para ler:
localStorage.getItem('remedios')

. Retorna a string. Se quiser o array de volta, faz:
. JSON.parse(localStorage.getItem('remedios'))



8๏ธโฃ Resumo do fluxo
. Pรกgina abre โ useState lรช localStorage e preenche remedios.
. Usuรกrio adiciona um remรฉdio โ setRemedios atualiza o estado.
. useEffect detecta mudanรงa em remedios โ salva os novos dados no localStorage.
. Se recarregar a pรกgina โ useState pega os dados salvos e carrega de volta.


9๏ธโฃ Vantagens dessa abordagem
. Nรฃo precisa banco de dados para coisas simples.
. Os dados ficam sempre atualizados sem funรงรตes extras.
. Estado inicial jรก vem com os dados salvos (sem โflashโ vazio).
. Evita ter dois useEffect brigando entre si.


๐ก Resumo em uma frase:
โO localStorage รฉ um armรกrio do navegador.
Usamos useState para pegar o que estรก dentro quando o app carrega,
e useEffect para guardar tudo de novo sempre que algo mudar.โ


-->